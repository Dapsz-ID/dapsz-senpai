    <!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dapsz Senpai</title>
  <style>
    /* ---- base ---- */
    :root{
      --bg:#000;
      --card:rgba(25,25,25,0.95);
      --blue1:#1e90ff;
      --blue2:#00aaff;
      --muted:#999;
    }
    *{box-sizing:border-box}
    body {
      background: var(--bg);
      color: #eee;
      font-family: "Poppins", Arial, sans-serif;
      margin: 0;
      min-height: 100vh;
      overflow-x: hidden;
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background: rgba(15,15,15,0.98);
      backdrop-filter: blur(8px);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:1001;
      box-shadow: 0 2px 10px rgba(0,0,0,0.6);
    }
    header h1{
      margin:0;
      font-size:1.6rem;
      color: transparent;
      background: linear-gradient(90deg,var(--blue1),var(--blue2));
      -webkit-background-clip:text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 12px rgba(30,144,255,0.12);
      user-select:none;
    }

    /* hamburger */
    .hamburger {
      position: fixed;
      top: 14px;
      right: 18px;
      width: 36px;
      height: 26px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      z-index:1100;
      cursor:pointer;
    }
    .hamburger span{
      display:block;height:4px;border-radius:4px;background:var(--blue1);
      transition: all .25s ease;
    }
    .hamburger.active span:nth-child(1){transform: rotate(45deg) translate(6px,6px)}
    .hamburger.active span:nth-child(2){opacity:0}
    .hamburger.active span:nth-child(3){transform: rotate(-45deg) translate(6px,-6px)}

    /* sidebar */
    .sidebar{
      position: fixed;
      top: 0;
      right: -320px;
      width: 320px;
      height: 100vh;
      background: rgba(10,10,10,0.98);
      padding: 70px 16px 20px;
      transition: right .25s ease;
      z-index:1050;
      box-shadow: -3px 0 20px rgba(0,0,0,0.6);
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .sidebar.open{right:0}
    .sidebar h2{color:var(--blue1); margin:0 0 6px 0; font-weight:700}
    .menu-item{background:none;border:none;color:var(--blue2);text-align:left;padding:10px;border-radius:8px;cursor:pointer;font-size:1rem}
    .menu-item.active, .menu-item:hover{background: rgba(30,144,255,0.12); color: var(--blue1); font-weight:700}

    /* container */
    main{padding:80px 16px 30px}
    .container{
      background: var(--card);
      padding: 20px;
      border-radius: 16px;
      max-width: 560px;
      margin: 0 auto 24px;
      box-shadow: 0 8px 40px rgba(0,119,255,0.06);
    }
    .container h2{margin:0 0 10px 0; font-size:1.1rem; color:#fff}

    input, textarea, select, button {
      font-family: inherit;
      font-size: 1rem;
    }
    input, textarea {
      width:100%;
      padding:10px 12px;
      border-radius:10px;
      border:2px solid var(--blue1);
      background:#111;color:#eee;
      outline:none;margin-bottom:12px;
    }
    textarea{min-height:100px; resize:vertical}
    input:focus, textarea:focus{box-shadow:0 0 12px rgba(0,170,255,0.12); border-color:var(--blue2)}

    button.primary{
      background: linear-gradient(90deg,var(--blue1),var(--blue2));
      color:#07111a;
      border:none;
      padding:10px 16px;
      border-radius:999px;
      cursor:pointer;
      font-weight:700;
    }
    button.primary:hover{transform:translateY(-1px)}

    .result{
      margin-top:12px;
      min-height:60px;
      text-align:center;
      word-wrap:break-word;
      overflow:hidden;
    }

    /* download button style */
    a.download-btn, .download-btn {
      display:inline-block;
      background: linear-gradient(90deg,#00aaff,#1e90ff);
      color:white;
      padding:10px 16px;
      border-radius:10px;
      text-decoration:none;
      font-weight:700;
      margin-top:10px;
    }
    a.download-btn:hover{opacity:0.95}

    /* image/video responsive and bounded inside result */
    .result .media-wrap{
      max-width: 100%;
      width: 100%;
      overflow: hidden;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .result img, .result video {
      max-width: 95%;
      width: 95%;
      height: auto;
      border-radius:12px;
      display:inline-block;
      margin:10px auto;
      object-fit:contain;
    }

    /* chat bubbles */
    .chat-container{
      max-height:320px;
      overflow-y:auto;
      padding:10px;
      background: rgba(0,0,0,0.2);
      border-radius:10px;
      text-align:left;
      margin-top:12px;
    }
    .bubble{display:inline-block;padding:8px 12px;border-radius:12px;margin:6px 0;max-width:80%;white-space:pre-wrap}
    .bubble.user{background:var(--blue1); color:#fff; float:right; clear:both; border-bottom-right-radius:4px}
    .bubble.ai{background:#222;color:#eee; float:left; clear:both; border-bottom-left-radius:4px}

    /* code block style */
    .code-block{background:#0b0b0b;border:1px solid rgba(30,144,255,0.12);padding:10px;border-radius:8px;position:relative;overflow:auto;font-family:monospace;margin-top:8px}
    .code-title{color:var(--blue1);font-weight:700;margin-bottom:6px}
    .copy-btn{position:absolute;right:8px;top:8px;background:var(--blue1);color:#000;padding:4px 8px;border-radius:6px;border:none;font-weight:700;cursor:pointer}

    /* loader */
    .loader{border:4px solid #222;border-top:4px solid var(--blue1);width:36px;height:36px;border-radius:50%;animation:spin 1s linear infinite;margin:14px auto}
    @keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}

    /* responsive tweaks */
    @media (max-width:540px){
      .sidebar{width:260px; right:-260px}
      .container{margin:80px 12px 24px; padding:16px; border-radius:12px}
      header h1{font-size:1.3rem}
      .chat-container{max-height:260px}
    }
  </style>
</head>
<body>
  <header>
    <h1>Dapsz Senpai</h1>
  </header>

  <div class="hamburger" id="hamburger" role="button" aria-label="Toggle menu" tabindex="0">
    <span></span><span></span><span></span>
  </div>

  <nav class="sidebar" id="sidebar" aria-hidden="true">
    <h2>Menu</h2>
    <button class="menu-item active" id="menu-welcome" type="button">Beranda</button>
    <button class="menu-item" id="menu-generator" type="button">iPhone Quoted Generator</button>
    <button class="menu-item" id="menu-tiktok" type="button">TikTok Downloader</button>
    <button class="menu-item" id="menu-deepseek" type="button">DeepSeek-AI</button>
    <button class="menu-item" id="menu-fakecall" type="button">Fake Call WhatsApp</button>
  </nav>

  <main>
    <div class="container" id="content"></div>
  </main>

  <script>
    /* ---- UI wiring ---- */
    const hamburger = document.getElementById('hamburger');
    const sidebar = document.getElementById('sidebar');
    const content = document.getElementById('content');
    const menuWelcome = document.getElementById('menu-welcome');
    const menuGenerator = document.getElementById('menu-generator');
    const menuTiktok = document.getElementById('menu-tiktok');
    const menuDeepSeek = document.getElementById('menu-deepseek');
    const menuFakeCall = document.getElementById('menu-fakecall');

    function toggleSidebar() {
      const open = sidebar.classList.toggle('open');
      hamburger.classList.toggle('active', open);
      sidebar.setAttribute('aria-hidden', !open);
    }
    hamburger.addEventListener('click', toggleSidebar);
    hamburger.addEventListener('keydown', (e) => {
      if(e.key==='Enter' || e.key===' ') { e.preventDefault(); toggleSidebar(); }
    });

    function clearActive() {
      document.querySelectorAll('.menu-item').forEach(b => b.classList.remove('active'));
    }

    function showSection(id) {
      clearActive();
      document.getElementById(`menu-${id}`)?.classList.add('active');
      // render corresponding
      switch(id){
        case 'welcome': renderWelcome(); break;
        case 'generator': renderGenerator(); break;
        case 'tiktok': renderTiktok(); break;
        case 'deepseek': renderDeepSeek(); break;
        case 'fakecall': renderFakeCall(); break;
        default: renderWelcome();
      }
      // close sidebar on mobile
      if(sidebar.classList.contains('open')) toggleSidebar();
    }

    menuWelcome.addEventListener('click', ()=> showSection('welcome'));
    menuGenerator.addEventListener('click', ()=> showSection('generator'));
    menuTiktok.addEventListener('click', ()=> showSection('tiktok'));
    menuDeepSeek.addEventListener('click', ()=> showSection('deepseek'));
    menuFakeCall.addEventListener('click', ()=> showSection('fakecall'));

    
  function renderWelcome(){
    content.innerHTML = `
      <div class="container">
        <h2>Beranda</h2>
        <div id="status-bar" style="background:#111;padding:12px;border-radius:12px;margin-bottom:14px;font-size:0.95rem;line-height:1.6">
          <p>‚è∞ Jam: <span id="jam">--:--:--</span></p>
          <p>üåê IP: <span id="ip">Mencari...</span></p>
          <p>üîã Baterai: <span id="batre">-</span></p>
          <p>üìç Lokasi: <span id="lokasi">Mencari...</span></p>
        </div>
        <p style="font-size:1.05rem; line-height:1.5; user-select:none;">
          Selamat Datang di Website Dapsz Senpai,<br/>Pilih menu untuk mencoba fitur.
        </p>
      </div>`;

    // ‚è∞ Jam realtime
    function updateJam(){
      const now = new Date();
      document.getElementById("jam").textContent =
        now.toLocaleTimeString("id-ID",{hour12:false});
    }
    updateJam();
    setInterval(updateJam,1000);

    // üåê IP
    fetch("https://api.ipify.org?format=json")
      .then(res=>res.json())
      .then(d=> document.getElementById("ip").textContent = d.ip)
      .catch(()=> document.getElementById("ip").textContent = "Gagal ambil IP");

    // üîã Baterai
    if(navigator.getBattery){
      navigator.getBattery().then(bat=>{
        function updateBatre(){
          document.getElementById("batre").textContent =
            Math.round(bat.level*100)+"%" + (bat.charging?" (üîå Charging)":"");
        }
        updateBatre();
        bat.addEventListener("levelchange",updateBatre);
        bat.addEventListener("chargingchange",updateBatre);
      });
    } else {
      document.getElementById("batre").textContent = "Tidak support";
    }

    // üìç Lokasi
    if(navigator.geolocation){
      navigator.geolocation.getCurrentPosition(pos=>{
        const {latitude,longitude} = pos.coords;
        document.getElementById("lokasi").textContent = `${latitude.toFixed(4)}, ${longitude.toFixed(4)}`;
      }, ()=> document.getElementById("lokasi").textContent = "Ditolak/ gagal");
    } else {
      document.getElementById("lokasi").textContent = "Tidak support";
    }
  }

  renderWelcome();

    /* ---- Renderers ---- */
    function renderGenerator(){
  content.innerHTML = `
    <div class="container">
      <h2>iPhone Quoted Generator</h2>
      <label style="display:block;text-align:left;margin-bottom:6px">Pesan</label>
      <input id="msg" placeholder="Tulis pesan chat" aria-label="Pesan" />
      
      <label style="display:block;text-align:left;margin-bottom:6px">Jam (contoh: 11:26)</label>
      <input id="jam" placeholder="11:26" aria-label="Jam" />
      
      <label style="display:block;text-align:left;margin-bottom:6px">Statusbar (contoh: INDOSAT OOREDOO 88%)</label>
      <input id="statusbar" placeholder="Status bar" aria-label="Statusbar" />

      <button class="primary" onclick="generateImage()">Buat Quoted</button>
      <div class="result" id="result" aria-live="polite"></div>
    </div>`;
}


    function renderTiktok(){
      content.innerHTML = `
        <div class="container">
          <h2>TikTok Downloader</h2>
          <input id="tiktok-url" type="url" placeholder="Masukkan URL TikTok" aria-label="Masukkan URL TikTok" />
          <button class="primary" onclick="downloadTiktok()">Download</button>
          <div class="result" id="result" aria-live="polite"></div>
        </div>`;
    }

    function renderDeepSeek(){
      content.innerHTML = `
        <div class="container">
          <h2>DeepSeek-AI</h2>
          <textarea id="deepseek-input" placeholder="Tulis pertanyaan atau perintah untuk AI..."></textarea>
          <button class="primary" onclick="askDeepSeek()">Kirim</button>
          <div class="chat-container" id="deepseek-chat" aria-live="polite"></div>
        </div>`;
    }

    function renderFakeCall(){
      content.innerHTML = `
        <div class="container">
          <h2>Fake Call WhatsApp</h2>
          <label style="display:block;text-align:left;margin-bottom:6px">Nama pemanggil</label>
          <input id="fc-nama" placeholder="Contoh: Ayu, Budi" aria-label="Nama pemanggil" />
          <label style="display:block;text-align:left;margin-bottom:6px">Durasi (detik)</label>
          <input id="fc-durasi" type="number" placeholder="Contoh: 30" aria-label="Durasi (detik)" />
          <label style="display:block;text-align:left;margin-bottom:6px">Avatar (URL gambar, optional)</label>
          <input id="fc-avatar" placeholder="https://..." aria-label="Avatar URL" />
          <button class="primary" onclick="generateFakeCall()">Buat Fake Call</button>
          <div class="result" id="fakecall-result" aria-live="polite"></div>
        </div>`;
    }

    /* ---- Utilities ---- */
    function escapeHtml(s=''){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }

    /* ---- iPhone Quoted Generator (brat.siputzx.my.id) ---- */
    window.generateImage = function(){
  const msg = document.getElementById('msg')?.value?.trim();
  const jam = document.getElementById('jam')?.value?.trim() || "11:26";
  const statusbar = document.getElementById('statusbar')?.value?.trim() || "INDOSAT OOREDOO 88%";
  const resultDiv = document.getElementById('result');
  
  if(!msg){ alert('Harap masukkan pesan!'); return; }
  
  resultDiv.innerHTML = '<div class="loader"></div><p>Memproses...</p>';

  const apiUrl = `https://api.zenzxz.my.id/maker/fakechatiphone?text=${encodeURIComponent(msg)}&time=${encodeURIComponent(jam)}&statusbar=${encodeURIComponent(statusbar)}`;

  setTimeout(()=>{
    resultDiv.innerHTML = `
      <p style="text-align:left;color:var(--muted);margin:6px 0">Hasil:</p>
      <div class="media-wrap">
        <img src="${apiUrl}" alt="Quoted image" 
             onerror="this.style.display='none'; this.parentElement.insertAdjacentHTML('beforeend','<p>Gagal memuat gambar.</p>');" />
      </div>
      <a class="download-btn" href="${apiUrl}" target="_blank" rel="noopener" download="quoted.png">‚¨áÔ∏è Download</a>
    `;
  }, 500);
};


    /* ---- TikTok Downloader (izumiiiiiiii.dpdns.org) ---- */
    window.downloadTiktok = async function(){
      const url = document.getElementById('tiktok-url')?.value?.trim();
      const resultDiv = document.getElementById('result');
      if(!url){ alert('Harap masukkan URL TikTok!'); return; }
      resultDiv.innerHTML = '<div class="loader" role="status" aria-label="Loading"></div><p>Mengunduh...</p>';

      try{
        const api = `https://izumiiiiiiii.dpdns.org/downloader/tiktok?url=${encodeURIComponent(url)}`;
        const res = await fetch(api);
        if(!res.ok) throw new Error('HTTP ' + res.status);
        const data = await res.json();

        if(data?.status === true && data?.result){
          const videoUrl = data.result.hdplay || data.result.play || data.result.wmplay;
          if(videoUrl){
            resultDiv.innerHTML = `
              <p style="text-align:left;color:var(--muted);margin:6px 0"><strong>${escapeHtml(data.result.title || 'Video TikTok')}</strong></p>
              <div class="media-wrap">
                <video controls autoplay muted loop playsinline>
                  <source src="${videoUrl}" type="video/mp4" />
                  Browser Anda tidak mendukung video.
                </video>
              </div>
              <a class="download-btn" href="${videoUrl}" target="_blank" rel="noopener" download="tiktok.mp4">‚¨áÔ∏è Download Video</a>
            `;
          } else {
            resultDiv.innerHTML = '<p>Tidak ditemukan link video dalam respon API.</p>';
          }
        } else {
          resultDiv.innerHTML = `<p>Gagal mendapatkan video: ${escapeHtml(data?.message || 'Unknown error')}</p>`;
        }
      }catch(err){
        console.error('downloadTiktok error', err);
        resultDiv.innerHTML = `<p>Error: ${escapeHtml(err.message)}</p>`;
      }
    };

    /* ---- Fake Call WhatsApp (api.zenzxz.my.id) ---- */
    window.generateFakeCall = async function(){
      const name = (document.getElementById('fc-nama')?.value || '').trim();
      const duration = (document.getElementById('fc-durasi')?.value || '').trim();
      const avatar = (document.getElementById('fc-avatar')?.value || '').trim();
      const resultDiv = document.getElementById('fakecall-result');

      if(!name){ alert('Masukkan nama pemanggil!'); return; }
      if(!duration || isNaN(duration) || Number(duration) <= 0){ alert('Masukkan durasi valid (detik)!'); return; }

      resultDiv.innerHTML = '<div class="loader" role="status" aria-label="Loading"></div><p>Menghasilkan fake call...</p>';

      try{
        const api = `https://api.zenzxz.my.id/maker/fakecall?nama=${encodeURIComponent(name)}&durasi=${encodeURIComponent(duration)}&avatar=${encodeURIComponent(avatar)}`;
        const res = await fetch(api);
        if(!res.ok) throw new Error('HTTP ' + res.status);
        const ct = (res.headers.get('content-type') || '').toLowerCase();

        if(ct.includes('application/json')){
          const json = await res.json();
          // cari URL image di beberapa kemungkinan field
          const img = json?.result?.url || json?.url || json?.result?.image || null;
          if(img){
            resultDiv.innerHTML = `
              <p style="text-align:left;color:var(--muted);margin:6px 0"><strong>Fake Call untuk: ${escapeHtml(name)}</strong></p>
              <div class="media-wrap">
                <img src="${img}" alt="Fake Call Preview" onerror="this.style.display='none'; this.parentElement.insertAdjacentHTML('beforeend','<p>Gagal memuat preview.</p>');" />
              </div>
              <a class="download-btn" href="${img}" target="_blank" rel="noopener" download="fakecall.png">‚¨áÔ∏è Download</a>
            `;
          } else {
            // tampilkan json untuk debug
            resultDiv.innerHTML = `<pre style="text-align:left;background:#0b0b0b;padding:10px;border-radius:8px;max-height:320px;overflow:auto;">${escapeHtml(JSON.stringify(json,null,2))}</pre>`;
          }
          return;
        }

        if(ct.startsWith('image/') || ct.includes('octet-stream')){
          const blob = await res.blob();
          const urlBlob = URL.createObjectURL(blob);
          resultDiv.innerHTML = `
            <p style="text-align:left;color:var(--muted);margin:6px 0"><strong>Fake Call untuk: ${escapeHtml(name)}</strong></p>
            <div class="media-wrap">
              <img src="${urlBlob}" alt="Fake Call Preview" />
            </div>
            <a class="download-btn" href="${urlBlob}" target="_blank" rel="noopener" download="fakecall.png">‚¨áÔ∏è Download</a>
          `;
          return;
        }

        // fallback: text
        const text = await res.text();
        resultDiv.innerHTML = `<pre style="text-align:left;background:#0b0b0b;padding:10px;border-radius:8px;max-height:320px;overflow:auto;">${escapeHtml(text)}</pre>`;
      }catch(err){
        console.error('generateFakeCall error', err);
        resultDiv.innerHTML = `<p>Error: ${escapeHtml(err.message)}. Cek console/network.</p>`;
      }
    };

    /* ---- DeepSeek AI (parsing code blocks) ---- */
    window.askDeepSeek = async function(){
      const input = document.getElementById('deepseek-input')?.value?.trim();
      const chatDiv = document.getElementById('deepseek-chat');
      if(!input){ alert('Harap tulis pertanyaan!'); return; }

      chatDiv.innerHTML += `<div class="bubble user">${escapeHtml(input)}</div>`;
      chatDiv.scrollTop = chatDiv.scrollHeight;
      const loaderId = 'loader-'+Date.now();
      chatDiv.innerHTML += `<div id="${loaderId}" class="bubble ai"><div class="loader"></div></div>`;
      chatDiv.scrollTop = chatDiv.scrollHeight;

      try{
        const endpoint = `https://izumiiiiiiii.dpdns.org/ai/deepseek?messages=${encodeURIComponent(input)}`;
        const res = await fetch(endpoint);
        const data = await res.json();
        document.getElementById(loaderId).remove();

        if(data?.status === true && data?.message){
          let msg = data.message;

          // parse markdown code blocks ```lang\ncode\n```
          const regex = /```(\w+)?\n([\s\S]*?)```/g;
          let final = msg;
          let i=0;
          let m;
          while((m = regex.exec(msg)) !== null){
            i++;
            const lang = (m[1]||'text').toUpperCase();
            const code = m[2] || '';
            const block = `
              <div class="code-block">
                <div class="code-title">${escapeHtml(lang)}</div>
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <pre>${escapeHtml(code)}</pre>
              </div>
            `;
            final = final.replace(m[0], block);
          }

          // split paragraphs and keep as bubble
          // we append final inside one ai bubble to keep grouping
          chatDiv.innerHTML += `<div class="bubble ai">${final}</div>`;
        } else {
          chatDiv.innerHTML += `<div class="bubble ai">Gagal mendapatkan jawaban.</div>`;
        }
      }catch(err){
        document.getElementById(loaderId).remove();
        console.error('askDeepSeek error', err);
        chatDiv.innerHTML += `<div class="bubble ai">Error: ${escapeHtml(err.message)}</div>`;
      }
      chatDiv.scrollTop = chatDiv.scrollHeight;
    };

    /* ---- copy code helper ---- */
    function copyCode(btn){
      // button is inside code-block, next element sibling might be <pre> or we find pre inside parent
      const parent = btn.parentElement;
      const pre = parent.querySelector('pre');
      if(!pre) return;
      const txt = pre.innerText || pre.textContent;
      navigator.clipboard.writeText(txt).then(()=>{
        const old = btn.innerText;
        btn.innerText = 'Copied!';
        setTimeout(()=> btn.innerText = old, 1400);
      }).catch(()=> alert('Gagal salin ke clipboard'));
    }

    /* keep focus UX: close sidebar when clicking outside on mobile */
    document.addEventListener('click', (e)=>{
      if(!sidebar.contains(e.target) && !hamburger.contains(e.target) && sidebar.classList.contains('open')){
        toggleSidebar();
      }
    });

    /* keyboard nav for menu (accessibility) */
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && sidebar.classList.contains('open')) toggleSidebar();
    });
  </script>
</body>
</html>
          
